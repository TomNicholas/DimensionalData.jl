import{_ as n,E as h,c as p,J as a,w as e,V as t,o as d,m as s,a as i}from"./chunks/framework.YvusCF0B.js";const X=JSON.parse('{"title":"Stacks","description":"","frontmatter":{},"headers":[],"relativePath":"stacks.md","filePath":"stacks.md","lastUpdated":null}'),r={name:"stacks.md"},g=t(`<h1 id="Stacks" tabindex="-1">Stacks <a class="header-anchor" href="#Stacks" aria-label="Permalink to &quot;Stacks {#Stacks}&quot;">​</a></h1><p>An <code>AbstractDimStack</code> represents a collection of <code>AbstractDimArray</code> layers that share some or all dimensions. For any two layers, a dimension of the same name must have the identical lookup - in fact only one is stored for all layers to enforce this consistency.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DimensionalData</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x, y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> X</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">↓ </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">X</span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;"> 1.0:1.0:10.0</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">,</span></span>
<span class="line"><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">→ </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">Y</span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;"> 5.0:1.0:10.0</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> st </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> DimStack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, y), b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x, y), c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(y), d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rand</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x)))</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#959da5;--shiki-dark:#959da5;">╭───────────────╮</span></span>
<span class="line"><span style="--shiki-light:#959da5;--shiki-dark:#959da5;">│ </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">10</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">×</span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">6</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;"> DimStack</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> │</span></span>
<span class="line"><span style="--shiki-light:#959da5;--shiki-dark:#959da5;">├───────────────┴──────────────────────────────────────────── dims ┐</span></span>
<span class="line"><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">  ↓ </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">X</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;"> Sampled{Float64} </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">1.0:1.0:10.0</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> ForwardOrdered</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> Regular</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> Points</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">,</span></span>
<span class="line"><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">  → </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">Y</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;"> Sampled{Float64} </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">5.0:1.0:10.0</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> ForwardOrdered</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> Regular</span><span style="--shiki-light:#808080;--shiki-dark:#808080;"> Points</span></span>
<span class="line"><span style="--shiki-light:#959da5;--shiki-dark:#959da5;">├────────────────────────────────────────────────────────── layers ┤</span></span>
<span class="line"><span style="--shiki-light:#00afaf;--shiki-dark:#00afaf;">  :a</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> eltype: </span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Float64</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> dims: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">X</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">, </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">Y</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> size: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">10</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">×</span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">6</span></span>
<span class="line"><span style="--shiki-light:#00afaf;--shiki-dark:#00afaf;">  :b</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> eltype: </span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Float64</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> dims: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">X</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">, </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">Y</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> size: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">10</span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">×</span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">6</span></span>
<span class="line"><span style="--shiki-light:#00afaf;--shiki-dark:#00afaf;">  :c</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> eltype: </span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Float64</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> dims: </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">Y</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> size: </span><span style="--shiki-light:#0087d7;--shiki-dark:#0087d7;">6</span></span>
<span class="line"><span style="--shiki-light:#00afaf;--shiki-dark:#00afaf;">  :d</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> eltype: </span><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Float64</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> dims: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">X</span><span style="--shiki-light:#959da5;--shiki-dark:#959da5;"> size: </span><span style="--shiki-light:#ff875f;--shiki-dark:#ff875f;">10</span></span>
<span class="line"><span style="--shiki-light:#959da5;--shiki-dark:#959da5;">└──────────────────────────────────────────────────────────────────┘</span></span></code></pre></div><p>The behaviour is somewhere ebetween a <code>NamedTuple</code> and an <code>AbstractArray</code>.</p>`,7),y=s("p",null,[i("Layers can be accessed with "),s("code",null,".name"),i(" or "),s("code",null,"[:name]")],-1),f=s("div",{class:"language-julia vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"julia"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"julia"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," st"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"."),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"a")])])])],-1),c=s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"╭────────────────────────────╮")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"│ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"10"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"×"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"6"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}}," DimArray{Float64,2}"),s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}}," a"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," │")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"├────────────────────────────┴─────────────────────────────── dims ┐")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  ↓ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"X"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}}," Sampled{Float64} "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"1.0:1.0:10.0"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," ForwardOrdered"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Regular"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Points"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},",")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"  → "),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"Y"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}}," Sampled{Float64} "),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"5.0:1.0:10.0"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," ForwardOrdered"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Regular"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Points")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"└──────────────────────────────────────────────────────────────────┘")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  ↓"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}}," →"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"  5.0"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"       6.0"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"       7.0"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"        8.0"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"        9.0"),s("span",{style:{"--shiki-light":"#0087d7","--shiki-dark":"#0087d7"}},"        10.0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  1.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.269772  0.462997  0.614391   0.58889    0.253374    0.193629")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  2.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.480228  0.860689  0.779456   0.409512   0.148065    0.512964")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  3.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.442055  0.223604  0.833025   0.185668   0.894483    0.350097")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  4.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.930018  0.403724  0.0292963  0.502493   0.0785787   0.363988")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  5.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.732143  0.529587  0.0482924  0.443596   0.238031    0.400573")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  6.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.644203  0.53871   0.801312   0.546598   0.323313    0.392959")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  7.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.202724  0.327891  0.967671   0.0674557  0.711008    0.824338")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  8.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.747154  0.347807  0.942696   0.897684   0.548041    0.266177")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  9.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.821803  0.828759  0.211797   0.763288   0.3311      0.922239")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}}," 10.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.698083  0.720742  0.729052   0.875602   0.0635494   0.330664")])])])],-1),o=s("div",{class:"language-julia vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"julia"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"julia"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," st["),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},":c"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])])],-1),E=s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"╭─────────────────────────────────╮")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"│ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"6-element "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"DimArray{Float64,1}"),s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}}," c"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," │")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"├─────────────────────────────────┴───────────────────────── dims ┐")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  ↓ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"Y"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}}," Sampled{Float64} "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"5.0:1.0:10.0"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," ForwardOrdered"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Regular"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Points")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"└─────────────────────────────────────────────────────────────────┘")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  5.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.471249")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  6.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.847082")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  7.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.976331")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  8.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.116164")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  9.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.00209478")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}}," 10.0"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"  0.391768")])])])],-1),u=s("p",null,[i("Indexing with a scalar returns a "),s("code",null,"NamedTuple"),i(" of values, one for each layer:")],-1),m=s("div",{class:"language-julia vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"julia"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"julia"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," st[X"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", Y"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"4"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]")])])])],-1),F=s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"(a = 0.5888904898698859, b = 0.8645933935116432, c = 0.11616381842128809, d = 0.20978745932648923)")])])])],-1),b=s("p",null,[i("Selectors for single values also return a "),s("code",null,"NamedTuple")],-1),v=s("div",{class:"language-julia vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"julia"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"julia"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," st[X"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"At"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2.0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"), Y"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"Near"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"20"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")]")])])])],-1),C=s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"(a = 0.5129638484938733, b = 0.8302731147792484, c = 0.3917675919954854, d = 0.1255991510156469)")])])])],-1),_=s("p",null,[i("If not all dimensions are scalars, we return another "),s("code",null,"DimStack"),i(". The layers without another dimension are now zero-dimensional:")],-1),A=s("div",{class:"language-julia vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"julia"),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"julia"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," st[X"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"At"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"2.0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")]")])])])],-1),D=s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"╭────────────────────╮")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"│ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"6-element "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"DimStack"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," │")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"├────────────────────┴────────────────────────────────────── dims ┐")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"  ↓ "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"Y"),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}}," Sampled{Float64} "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"5.0:1.0:10.0"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," ForwardOrdered"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Regular"),s("span",{style:{"--shiki-light":"#808080","--shiki-dark":"#808080"}}," Points")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"├───────────────────────────────────────────────────────── layers ┤")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}},"  :a"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," eltype: "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"Float64"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," dims: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"Y"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," size: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"6")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}},"  :b"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," eltype: "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"Float64"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," dims: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"Y"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," size: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"6")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}},"  :c"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," eltype: "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"Float64"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," dims: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"Y"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," size: "),s("span",{style:{"--shiki-light":"#ff875f","--shiki-dark":"#ff875f"}},"6")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#00afaf","--shiki-dark":"#00afaf"}},"  :d"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," eltype: "),s("span",{style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8"}},"Float64"),s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}}," dims: ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#959da5","--shiki-dark":"#959da5"}},"└─────────────────────────────────────────────────────────────────┘")])])])],-1),B=t(`<p>Indexing with <code>Dimensions</code>, <code>Selectors</code> works as with an <code>AbstractDimArray</code>, except it indexes for all layers at the same time, returning either a new small <code>AbstractDimStack</code> or a scalar value, if all layers are scalars.</p><p>Base functions like <code>mean</code>, <code>maximum</code>, <code>reverse</code> are applied to all layers of the stack.</p><p><code>broadcast_dims</code> broadcasts functions over any mix of <code>AbstractDimStack</code> and <code>AbstractDimArray</code> returning a new <code>AbstractDimStack</code> with layers the size of the largest layer in the broadcast. This will work even if dimension permutation does not match in the objects.</p><h1 id="Performance" tabindex="-1">Performance <a class="header-anchor" href="#Performance" aria-label="Permalink to &quot;Performance {#Performance}&quot;">​</a></h1><p>Indexing stack is fast - indexing a single value return a <code>NamedTuple</code> from all layers usingally, measures in nanoseconds. There are some compilation overheads to this though, and stacks with very many layers can take a long time to compile.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BenchmarkTools</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> @btime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st[X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  8.666 ns (0 allocations: 0 bytes)</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">(a = 0.5888904898698859, b = 0.8645933935116432, c = 0.11616381842128809, d = 0.20978745932648923)</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> @btime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">st[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  8.675 ns (0 allocations: 0 bytes)</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">(a = 0.5888904898698859, b = 0.8645933935116432, c = 0.11616381842128809, d = 0.20978745932648923)</span></span></code></pre></div>`,9);function j(S,T,w,P,x,Y){const l=h("PluginTabsTab"),k=h("PluginTabs");return d(),p("div",null,[g,a(k,null,{default:e(()=>[a(l,{label:"getting layers"},{default:e(()=>[y,f,c,o,E]),_:1}),a(l,{label:"scalars"},{default:e(()=>[u,m,F]),_:1}),a(l,{label:"selectors"},{default:e(()=>[b,v,C]),_:1}),a(l,{label:"partial indexing"},{default:e(()=>[_,A,D]),_:1})]),_:1}),B])}const z=n(r,[["render",j]]);export{X as __pageData,z as default};
